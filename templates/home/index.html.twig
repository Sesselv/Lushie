{% extends 'base.html.twig' %} {% block title %}Lushie - Accueil{% endblock %}
{% block importmap %}
{{ importmap(["app", "card", "animatedBar", "dropdown", "burger"]) }}
{% endblock %} {% block body %}
<section class="sec-hero">
    <div class="container">
        <div class="col-1">
            <h1>
                <span class="highlight-white">Bienvenue sur Lushie !</span>
                Un univers doux et color√© autour des savons.‚ú®
            </h1>
            <ul class="hero-list">
                <li class="hero-item">
                    üßº D√©couvre des fiches sur de nombreux savons
                </li>
                <li class="hero-item">
                    üíñ Compare facilement les savons selon tes besoins
                </li>
                <li class="hero-item">
                    üåø Partage tes exp√©riences avec la communaut√©
                </li>
                <li class="hero-item">
                    üõçÔ∏è Explore des boutiques conseill√©es autour du soin bio
                </li>
            </ul>
        </div>
        <div class="col-2">
            <img
                class="soaps-img"
                src="{{ asset('/styles/img/soaps.webp') }}"
                alt="soaps image"
            />
        </div>
    </div>
    <div class="animated-bar">
        <span>LA CORVETTE</span>
        <span>LA VIE CLAIRE</span>
        <span>NATURE ET DECOUVERTE</span>
        <span>GAIIA</span>
        <span>AROMA-ZONE</span>
        <span>FER A CHEVAL</span>
    </div>
</section>

<section class="sec-features">
    <div class="container">
        <h2>
            Diff√©rentes
            <span class="highlight-sunny">fonctionnalit√©s</span> pour te guider
            dans tes choix !
        </h2>
        <div class="features-grid">
            <div class="feature-box comparator">
                <div class="feature-header">
                    <span class="feature-icon">‚öñÔ∏è</span>
                    <h2 class="feature-title">LE COMPARATEUR</h2>
                    <button class="toggle-btn">+</button>
                </div>
                <div class="feature-content">
                    <p>
                        D√©couvrez notre comparateur interactif de savons :
                        s√©lectionnez simplement les savons qui vous int√©ressent,
                        et des informations d√©taill√©es apparaissent
                        automatiquement de chaque c√¥t√©...
                    </p>
                </div>
            </div>

            <div class="feature-box soaps">
                <div class="feature-header">
                    <span class="feature-icon">üßº</span>
                    <h2 class="feature-title">LES SAVONS</h2>
                    <button class="toggle-btn">+</button>
                </div>
                <div class="feature-content">
                    <p>
                        Sur cette page, retrouvez toutes nos fiches d√©taill√©es
                        de savons. Chaque savon est pr√©sent√© avec son nom et
                        caract√©ristiques principales...
                    </p>
                </div>
            </div>

            <div class="feature-box exchange">
                <div class="feature-header">
                    <span class="feature-icon">üë•</span>
                    <h2 class="feature-title">ESPACE ECHANGE</h2>
                    <button class="toggle-btn">+</button>
                </div>
                <div class="feature-content">
                    <p>
                        Retrouvez toutes nos fiches d√©taill√©es de savons,
                        comparez et ajoutez vos favoris facilement !
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="sec-soaps">
    <div class="container">
        <h2>
            <span class="highlight-white">
                VOS HISTOIRES, VOS AVIS, VOS SAVONS..
            </span>
        </h2>
        <p class="intro">
            Une carte, un savon : explore, d√©couvre et amuse-toi √† les noter !
        </p>

        <div class="soap-cards">
            {% for soap in soaps %}
            <a href="{{ path('app_soap_show', { id: soap.id }) }}" class="card">
                {% if soap.media|length > 0 %}
                <img
                    src="{{ asset('uploads/soaps/' ~ soap.media[0].filePath) }}"
                    alt="{{ soap.name }}"
                />
                {% else %}
                <img
                    src="{{ asset('/styles/img/default-soap.webp') }}"
                    alt="{{ soap.name }}"
                />
                {% endif %} {% set totalRatings = soap.ratings|length %} {% set
                average = totalRatings > 0 ? (soap.ratings|map(r =>
                r.note)|reduce((carry, n) => carry + n) / totalRatings)|round(0,
                'floor') : 0 %}

                <div class="rating-static">
                    <p>{{ totalRatings }}</p>
                    {% for i in 1..5 %}
                    <span class="star {% if i <= average %}active{% endif %}">
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            viewBox="0 0 24 24"
                            width="24"
                            height="24"
                        >
                            <polygon
                                points="12,2 15,9 22,9 17,14 19,21 12,17 5,21 7,14 2,9 9,9"
                                fill="currentColor"
                            />
                        </svg>
                    </span>
                    {% endfor %}
                </div>

                <h3>{{ soap.name }}</h3>
                <p>{{ soap.description }}</p>
            </a>
            {% endfor %}
        </div>

        <a href="{{ path('app_soaps') }}" class="btn">D√©couvrir</a>
    </div>
</section>

<section class="sec-exchange">
    <div class="container">
        <h2>
            <span class="highlight-white"> TIPS, EXP√âRIENCES ET PARTAGES </span>
        </h2>
        <div class="exchange-content">
            <div class="col-1">
                <p>
                    Partagez vos tests, vos impressions et vos petites
                    trouvailles autour des savons avec les autres passion√©s!
                </p>
            </div>
            <div class="col-2">
                <img
                    class="exchange-img"
                    src="{{ asset('/styles/img/comments-img.svg') }}"
                    alt="soaps image"
                />
            </div>
        </div>
        <a href="{{ path('app_articles') }}" class="btn">D√©couvrir</a>
    </div>
</section>

<section class="sec-shops">
    <div class="container">
        <h2>
            Recherchez les <span class="highlight-sunny">boutiques </span>qui
            vendent les meilleurs savons en France !<br />üëá
        </h2>
        <a href="{{ path('shops') }}" class="btn">D√©couvrir</a>
    </div>
</section>
{% endblock %}
